@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model PBL3.Models.Entities.Account
@{
    ViewBag.Title = "Thông tin tài khoản";
}

@if (ViewBag.Role == "Reader")
{
    <h1>Thông tin tài khoản:</h1>

    <div>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.FullName)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.FullName)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DateOfBirth)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DateOfBirth)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Phone)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Phone)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Email)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Email)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Cccd)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Cccd)
            </dd>
        </dl>
    </div>
    <div>
        @{/*Nếu quay lại sẽ quay lại đâu*/}
        <a asp-action="Edit" asp-route-id="//tham số id">Sửa thông tin</a>
        <a asp-action="//developing" asp-route-id="//tham số id">Quay lại</a>
    </div>
}
else if (ViewBag.Role == "Admin" || ViewBag.Role == "Librarian") {
    
    IEnumerable<PBL3.Models.Entities.Account> listReader = ViewBag.ListReader;
    
    <h1>Danh sách độc giả:</h1>
    <hr />
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.FullName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DateOfBirth)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Phone)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Cccd)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in listReader)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.FullName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateOfBirth)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Cccd)
                    </td>
                    <td>
                        <a asp-action="Details" asp-route-id="@item.AccName">Details</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <div>
        @{
            /* 
             * Nếu quay lại sẽ quay lại đâu?
             * Sửa thông tin cá nhân dành cho thủ thư: gọi Edit(id) để sửa bất kể vai trò
             */
        }
        <a asp-action="Edit" asp-route-id="//tham số id">Sửa thông tin cá nhân</a>
        <a asp-action="//developing" asp-route-id="//tham số id">Quay lại</a>
    </div>
}